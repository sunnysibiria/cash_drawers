
# CashManagment.Api

## Общая информация
Сервис для дополнительного менеджмента кассет системой заявок.

## Как авторизоваться в сервисе
Сервис для авторизации использует протокол Kerberos и для выполнения запросов необходимо получить jwt-токен для передачи его в заголовке ad-token при выполнении запроса.
Процесс получения токена авторизации и выполнения запроса к сервису с этим токеном описан в статье [Kerberos-авторизация в сервисах РК](http://confluence.moscow.alfaintra.net/pages/viewpage.action?pageId=243291107).

## Структура папок и файлов
1. **./src/** - исходный код функционала сервиса.
2. **./test/** - исходный код юнит-тестов и интеграционных тестов.
3. **./Directory.Build.props** - общие настройки для всех проектов, применяющиеся во время построения решения.
4. **./Dockerfile** - файл-инструкция для построения докер-контейнера.
5. **./NuGet.Config** - конфигурация NuGet для доступа к общебанковскому артифакторию - используется технический пользователь с открытым паролем (дешифрование шифрованного пароля не работает на разных ОС: Win7, Win10, Linux).
6. **./pipeline-settings.json** - настройка имени сервиса при работе пайплайна.
7. **./StyleCop.ruleset** - настройки *StyleCop*, применяемые ко всем проектам через *Directory.Build.props*.
9. **./stylecop.json** - специальные настройки StyleCop, в частности исключение префикса id для венгерской нотации.

## Структура решения

## Best practices
### Тесты
#### Общее
1. Используем **xUnit**
2. Пишем тесты по AAA с четким разделением на Arrange-Act-Assert
3. На каждый класс с тестами навешиваем атрибуты:
   1. `ExcludeFromCodeCoverage`
   2. `Trait` - для категоризации тестов
4. ...
#### Модульные
1. ...

#### Интеграционные
1. ...

## Jenkins
[Module Pipelines](https://ufrjenm2/ufr-awp/job/module/job/ufr-rcincomeusrv-obipreport-service/)
